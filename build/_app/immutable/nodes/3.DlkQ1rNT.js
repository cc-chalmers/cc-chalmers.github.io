import{q as S,r as I,E as Z,v as $,w as se,x as K,y as ee,k as U,z as re,A as D,B as Y,C as ce,D as P,F as G,G as ue,H as te,I as J,J as X,m as oe,i as ae,c as B,f as R,l as j,K as x,o as N,s as u,n as q,a as E,t as O}from"../chunks/disclose-version.4PvyoKC5.js";import{d as z,i as de,n as ve,b as fe,e as me,f as ne,E as _e,h as be,j as he,S as xe,p as ie,a as le,k as H}from"../chunks/runtime.DXWQE5jP.js";import{H as ge}from"../chunks/Header.uZNkLie8.js";import{S as M,d as Te}from"../chunks/strudel.CveF8He0.js";import{o as ke}from"../chunks/main-client.Bc9LwV8l.js";function Ae(t,e){return{a:e,d:null,f:t,v:[],e:null,p:ne,r:null,s:[],t:_e}}function Ve(t,e,l){return{a:null,d:null,e:null,i:e,k:l,v:t,p:ne,r:null,s:null,t:be}}function Ee(t,e,l,v,o,b,n){const _=(l&D)!==0,i=Ae(l,t);let T=null;re(t,_);let g,w=null,d=null,A=!1;i.r=f=>{const m=T,a=m.s;a.add(f),f.f(()=>{a.delete(f),a.size===0&&m.e!==null&&(m.d!==null&&(S(m.d),m.d=null),z(m.e),m.e=null)})};const h=()=>{const f={d:null,e:null,s:new Set,p:T},m=I(()=>{const a=i.d;a!==null&&(S(a),i.d=null);let s=i.a;(i.f&D)!==0&&(Y?s=s.firstChild:(s=ce(),i.a.appendChild(s))),b(s),f.d=i.d,i.d=null},i,!0);f.e=m,T=f},k=f=>{const m=f.f,a=(m&D)!==0,s=f.a;n(g,f,s,a,o,m,!0,w)},p=I(()=>{var a,s;const f=e();g=de(f)?f:f==null?[]:Array.from(f),v!==null?w=g.map(v):l&Z||g.map(ve);const m=g.length;if(Y){const r=((s=(a=P)==null?void 0:a[0])==null?void 0:s.data)==="ssr:each_else";r&&m||!r&&!m?(S(P),G(null),A=!0):r&&P.shift()}if(b!==null){if(m===0){if(i.v.length!==0||d===null){k(i),h();return}}else if(i.v.length===0&&T!==null){const r=T,c=r.s;c.size===0?r.d!==null&&(S(r.d),r.d=null):$(c,"out")}}d!==null&&me(d)},i,!1);d=I(k,i,!0),A&&G([]),fe(p,()=>{const f=i.f,m=i.a,a=(f&D)!==0;let s=T;for(;s!==null;){const r=s.d;r!==null&&S(r);const c=s.e;c!==null&&z(c),s=s.p}n([],i,m,a,o,f,!1,w),z(d)}),i.e=p}function F(t,e,l,v,o){Ee(t,e,l,null,v,o,we)}function we(t,e,l,v,o,b,n){b&J&&!he(t)&&!(xe in t)&&(b^=J);var _=e.v,i=e.s,T=_.length,g=t.length,w=Math.max(T,g),d=0,A,h;if(i.length!==0&&pe(i),g===0)for(A=[],v&&T!==0&&se(l);d<w;)h=_[d++],Q(h,i,n,v);else{var k;let a=!1;if(A=Array(g),Y){for(var p=P,f=p[0];d<w;d++){var m=ue(f);if(G(m),!m){a=!0;break}k=t[d],h=W(k,null,d,o,b),A[d]=h,f=m[m.length-1].nextSibling.nextSibling}ye(p,f)}for(;d<w;d++)d>=T?(k=t[d],h=W(k,null,d,o,b),A[d]=h,Ce(h,l,v,null)):d>=g?(h=_[d],Q(h,i,n)):(k=t[d],h=_[d],A[d]=h,Se(h,k,d,b));a&&G([])}e.v=A}function ye(t,e){if(e!==null){var l=t.indexOf(e);l!==-1&&t.length>l+1&&S(t.slice(l))}}function Ce(t,e,l,v){var o=t.d;return v===null?l?K(o,e,null):K(o,e.parentNode,e):K(o,null,v)}function pe(t){var e=t.length;if(e>0){for(var l=0,v,o;l<e;l++)v=t[l],o=v.r,o!==null&&(v.r=null,Q(v,null,!1));t.length=0}}function Se(t,e,l,v){const o=t.v;v&ee&&U(o,e);const b=t.s,n=(v&te)!==0,_=t.a;b!==null&&v&Z&&_!==null&&_(t,b),n?U(t.i,l):t.i=l}function Q(t,e,l,v=!1){const o=t.s;if(l&&o!==null){for(let n of o)n.r==="key"&&o.delete(n);if(o.size===0)t.s=null;else{$(o,"out"),e!==null&&e.push(t);return}}const b=t.d;!v&&b!==null&&S(b),z(t.e)}function W(t,e,l,v,o){const n=(o&ee)===0?t:o&J?X(t):oe(t),_=o&te?X(l):l,i=Ve(n,_,e),T=I(g=>{v(null,g.v,g.i)},i,!0);return i.e=T,i}var Ie=O('<div class="key top svelte-tx3ckd"><b><p> </p><b></b></b></div>'),He=O('<div class="key top svelte-tx3ckd"><b><p> </p><b></b></b></div>'),Le=O('<div class="key svelte-tx3ckd"><b><p> </p></b></div>'),Be=O('<div><div class="piano"><div class="key-row svelte-tx3ckd" id="black"><div class="blank svelte-tx3ckd"></div> <!> <div class="blank gap svelte-tx3ckd"></div> <!> <div class="blank svelte-tx3ckd"></div></div> <div class="key-row svelte-tx3ckd" id="white"></div></div> <div class="audioctl svelte-tx3ckd"><button id="audiobtn"></button></div></div>');function Ne(t,e){le(e,!1);let l=e.ctx.destination;const v={c:0,db:1,d:2,eb:3,e:4,f:5,gb:6,g:7,ab:8,a:9,bb:10,b:11,c2:12},o=[130.81,138.59,146.83,155.56,164.81,174.61,185,196,207.65,220,233.08,246.94,261.63];let b={gain:0,channelCount:1,channelCountMode:"max",channelInterpretation:"speakers"},n=Array.from({length:13},(a,s)=>{let r=new GainNode(e.ctx,b);return r.connect(l),r});Array.from({length:13},(a,s)=>{let r=new OscillatorNode(e.ctx);return r.type="triangle",r.frequency.setValueAtTime(o[s],e.ctx.currentTime),r.connect(n[s]),r.start(),r}),ke(()=>{const a=document.getElementById("audiobtn");a==null||a.addEventListener("click",()=>{e.ctx.state==="suspended"&&e.ctx.resume().then(()=>{console.log(e.ctx.state)})})});const _=a=>{var c,y;a.stopPropagation();const s=a.target;let r=s.id;r||(r=(y=(c=s.parentNode)==null?void 0:c.parentElement)==null?void 0:y.id),n[v[r]].gain.setValueAtTime(0,e.ctx.currentTime)},i=a=>{var c,y;a.stopPropagation();const s=a.target;let r=s.id;r||(r=(y=(c=s.parentNode)==null?void 0:c.parentElement)==null?void 0:y.id),n[v[r]].gain.setValueAtTime(.4,e.ctx.currentTime)},T=a=>{switch(a.stopPropagation(),a.key){case"a":n[0].gain.setValueAtTime(.3,e.ctx.currentTime);break;case"w":n[1].gain.setValueAtTime(.3,e.ctx.currentTime);break;case"s":n[2].gain.setValueAtTime(.3,e.ctx.currentTime);break;case"e":n[3].gain.setValueAtTime(.3,e.ctx.currentTime);break;case"d":n[4].gain.setValueAtTime(.3,e.ctx.currentTime);break;case"f":n[5].gain.setValueAtTime(.3,e.ctx.currentTime);break;case"t":n[6].gain.setValueAtTime(.3,e.ctx.currentTime);break;case"g":n[7].gain.setValueAtTime(.3,e.ctx.currentTime);break;case"y":n[8].gain.setValueAtTime(.3,e.ctx.currentTime);break;case"h":n[9].gain.setValueAtTime(.3,e.ctx.currentTime);break;case"u":n[10].gain.setValueAtTime(.3,e.ctx.currentTime);break;case"j":n[11].gain.setValueAtTime(.3,e.ctx.currentTime);break;case"k":n[12].gain.setValueAtTime(.3,e.ctx.currentTime);break}console.log(a.key.toString())},g=a=>{switch(a.stopPropagation(),a.key){case"a":n[0].gain.setValueAtTime(0,e.ctx.currentTime);break;case"w":n[1].gain.setValueAtTime(0,e.ctx.currentTime);break;case"s":n[2].gain.setValueAtTime(0,e.ctx.currentTime);break;case"e":n[3].gain.setValueAtTime(0,e.ctx.currentTime);break;case"d":n[4].gain.setValueAtTime(0,e.ctx.currentTime);break;case"f":n[5].gain.setValueAtTime(0,e.ctx.currentTime);break;case"t":n[6].gain.setValueAtTime(0,e.ctx.currentTime);break;case"g":n[7].gain.setValueAtTime(0,e.ctx.currentTime);break;case"y":n[8].gain.setValueAtTime(0,e.ctx.currentTime);break;case"h":n[9].gain.setValueAtTime(0,e.ctx.currentTime);break;case"u":n[10].gain.setValueAtTime(0,e.ctx.currentTime);break;case"j":n[11].gain.setValueAtTime(0,e.ctx.currentTime);break;case"k":n[12].gain.setValueAtTime(0,e.ctx.currentTime);break}console.log(a.key.toString())};document.addEventListener("keydown",T),document.addEventListener("keyup",g),ae();var w=N(t,!0,Be),d=E(w),A=E(d),h=E(A),k=u(u(h,!0)),p=u(u(k,!0)),f=u(u(p,!0)),m=u(u(A,!0));F(k,()=>[{id:"db",text:"C# Db"},{id:"eb",text:"D# Eb"}],1,(a,s,r)=>{var c=N(a,!0,Ie),y=E(c),V=E(y),L=q(E(V)),C;I(()=>{C!==(C=H(s).id)&&R(c,"id",C),j(L,H(s).text)}),x("mousedown",c,i,!1),x("mouseup",c,_,!1),x("mouseleave",c,_,!1),x("mousedown",V,i,!1),x("mouseup",V,_,!1),x("mouseleave",V,_,!1),B(a,c)},null),F(f,()=>[{id:"gb",text:"F# Gb"},{id:"ab",text:"G# Ab"},{id:"bb",text:"A# Bb"}],1,(a,s,r)=>{var c=N(a,!0,He),y=E(c),V=E(y),L=q(E(V)),C;I(()=>{C!==(C=H(s).id)&&R(c,"id",C),j(L,H(s).text)}),x("mousedown",c,i,!1),x("mouseup",c,_,!1),x("mouseleave",c,_,!1),x("mousedown",V,i,!1),x("mouseup",V,_,!1),x("mouseleave",V,_,!1),B(a,c)},null),F(m,()=>[{id:"c",text:"C"},{id:"d",text:"D"},{id:"e",text:"E"},{id:"f",text:"F"},{id:"g",text:"G"},{id:"a",text:"A"},{id:"b",text:"B"},{id:"c2",text:"C"}],9,(a,s,r)=>{var c=N(a,!0,Le),y=E(c),V=E(y),L=q(E(V)),C;I(()=>{C!==(C=H(s).id)&&R(c,"id",C),j(L,H(s).text)}),x("mousedown",c,i,!1),x("mouseup",c,_,!1),x("mouseleave",c,_,!1),x("mousedown",V,i,!1),x("mouseup",V,_,!1),x("mouseleave",V,_,!1),B(a,c)},null),B(t,w),ie()}var Oe=O(`<div><!> <h3 class="pagetitle svelte-1uad18p">NOTE(  )</h3> <div class="links svelte-1uad18p"><a href="#concepts">Concepts</a> <a href="#piano">Piano note</a></div> <div class="links examples svelte-1uad18p">Examples: <a href="#note1">1</a> <a href="#note2">2</a> <a href="#note3">3</a> <a href="#note4">4</a></div> <div id="note1"><p>1.</p></div> <!> <div id="piano"><!></div> <div id="note2"><p>2.</p></div> <!> <div id="note3"><p>3.</p></div> <!> <div id="note4"><p>4.</p></div> <!> <h3>Vocabulary:</h3> <div id="concepts" class="svelte-1uad18p"><h4>Commands:</h4> <ul><li><b>note()</b> - the command we use to program melodies.</li> <li><b><a href="#note1">.slow( )</a></b> - makes the pattern go slower. <i>[ slow(2) = half the speed ]</i></li> <li><b><a href="#note1">.fast( )</a></b> - makes the pattern go faster. <i>[ fast(2) = double the speed  ]</i></li> <li><b><a href="#note3">.sound( )</a></b> - allows you to change the
      sound of the notes playing. This is the same command as last lesson, but
      it can be used in combination with <b>note( )</b>.</li></ul> <h4>Syntax:</h4> <ol class="svelte-1uad18p"><li class="svelte-1uad18p"><b><a href="#note2">~</a></b> - the rest, inserts a step in the
      pattern of silence.</li> <li class="svelte-1uad18p"><b><a href="#note4">("A4 B3 C2")</a></b> - note names and octave
      numbers</li></ol></div></div>`);function Ke(t,e){le(e,!1);const l=Te.note,v=window.AudioContext,o=new v;ae();var b=N(t,!0,Oe),n=E(b),_=u(u(n,!0)),i=u(u(_,!0)),T=u(u(i,!0)),g=u(u(T,!0)),w=u(u(g,!0)),d=u(u(w,!0)),A=E(d),h=u(u(d,!0)),k=u(u(h,!0)),p=u(u(k,!0)),f=u(u(p,!0)),m=u(u(f,!0)),a=u(u(m,!0));ge(n,{}),M(w,{title:"note()",get url(){return l[0]}}),Ne(A,{ctx:o}),M(k,{title:"note()",get url(){return l[1]}}),M(f,{title:"note()",get url(){return l[2]}}),M(a,{title:"note()",get url(){return l[3]},height:380}),B(t,b),ie()}export{Ke as component};
